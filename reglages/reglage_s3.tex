\makeatletter

\newcommand{\beginrecipie}[4]{%
  \raggedbottom{}
  \pagebreak%
  \setcounter{step}{0}
  \refstepcounter{section}%
  \addcontentsline{toc}{section}{\protect\numberline{\thesection}#1}%
  \sectionmark{#1}%
  %Recipe title
  \vspace{0cm}
  \begin{center}
    {\Huge #1}

    {\small Prep: #2 min --- Cooking: #3 min}

    {#4 persons}
  \end{center}
}



\newenvironment{ingredient}
{
  \begin{center}
    \large \textbf{Ingredients}

    \begin{footnotesize}
      \noindent
      \begin{tabular}{L{0.62\linewidth}}
        \toprule
        \begin{minipage}{\linewidth}
          \vspace{0.1cm}
          }
          {\vspace{-0.1cm}
        \end{minipage}

        \\\bottomrule\end{tabular}\vspace{0.5cm}
    \end{footnotesize}
  \end{center}}


\newenvironment{main}
{\begin{multicols}{2}
    \begin{itemize}[label=\( \)]
      }
      {\end{itemize}\end{multicols}}

\newenvironment{subingredient}[1]{
  \textbf{#1}
  \begin{multicols}{2}
    \begin{itemize}[label=\( \)]
      }
      {\end{itemize}\end{multicols}}


\newenvironment{recipe}
{
  \begin{center}
    \large \underline{\textbf{Preparation}}\vspace{0.3cm}
  \end{center}


}
{}
\makeatother

%-----------------------------------------
%new environments

\newenvironment{notes}
{\vfill\def\FrameCommand{\fboxsep=\FrameSep\fcolorbox{black}{white}}%
  \MakeFramed{\advance\hsize-\width\FrameRestore}
  \noindent\underline{\textbf{Notes and tips:}}%

  \vspace{0.25cm}
  \noindent\hspace{-0.15cm}}
{\vspace{2.5cm}\endMakeFramed}


\newcommand{\step}[1]{
  \noindent\stepcounter{step}\setcounter{substep}{0}\the\value{step}. #1\vspace{0.3cm}

}

\newcommand{\substep}[2][1]{\ifthenelse{\value{substep}=0}{\noindent\stepcounter{step}\the\value{step}. \underline{\textbf{#1:}}\vspace{0.3cm}

  }{}
  \hspace{0.3cm}\begin{minipage}{0.948\textwidth}
    \noindent\stepcounter{substep}\roman{substep}. #2\vspace{0.5cm}
  \end{minipage}

}